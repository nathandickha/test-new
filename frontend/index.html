<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pool Designer</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <main class="app-shell container">

    <!-- Sidebar + Slide Panels -->
    <aside class="sidebar">

      <!-- ICON BAR -->
      <nav class="sidebar-icons">
        <button class="icon-btn" data-panel="shape" title="Shape">‚¨õ</button>
        <button class="icon-btn active" data-panel="dimensions" title="Dimensions">üìè</button>
        <button class="icon-btn" data-panel="tiles" title="Tiles">üß±</button>
        <button class="icon-btn" data-panel="spa" title="Spas">üõÅ</button>
        <!-- ‚≠ê NEW: Features panel icon -->
        <button class="icon-btn" data-panel="features" title="Features">‚ú®</button>
        <button class="icon-btn" data-panel="steps" title="Entry Steps">ü™ú</button>
      </nav>

      <!-- DIMENSIONS PANEL -->
      <div class="side-panel open" id="panel-dimensions">
        <h2>Pool Dimensions</h2>

        <label>
          <span>Shallow Depth (m)</span>
          <div class="slider-row">
            <input type="range" id="shallow" min="0.5" max="2.0" step="0.05" value="1.2" />
            <span id="shallow-val" class="slider-value">1.2 m</span>
          </div>

        </label>

        <label>
          <span>Deep Depth (m)</span>
          <div class="slider-row">
            <input type="range" id="deep" min="1.0" max="4.0" step="0.05" value="2.5" />
            <span id="deep-val" class="slider-value">2.5 m</span>
          </div>
        </label>

        <label>
          <span>Shallow Flat (m)</span>
          <div class="slider-row">
            <input type="range" id="shallowFlat" min="0" max="6" step="0.1" value="2" />
            <span id="shallowFlat-val" class="slider-value">2.0 m</span>
          </div>
        </label>

        <label>
          <span>Deep Flat (m)</span>
          <div class="slider-row">
            <input type="range" id="deepFlat" min="0" max="6" step="0.1" value="2" />
            <span id="deepFlat-val" class="slider-value">2.0 m</span>
          </div>
        </label>
      </div>

      <!-- SHAPE PANEL -->
      <div class="side-panel" id="panel-shape">
        <h2>Pool Shape</h2>

        <label>
          <span>Shape</span>
          <select id="shape">
            <option value="rectangular">Rectangular</option>
            <option value="freeform">Freeform (editable)</option>
            <option value="oval">Oval</option>
            <option value="kidney">Kidney</option>
            <option value="L">L-Shape</option>
          </select>
        </label>

        <label>
          <span>Length (m)</span>
          <div class="slider-row">
            <input type="range" id="length" min="4" max="20" step="0.1" value="10" />
            <span id="length-val" class="slider-value">10 m</span>
          </div>
        </label>

        <label>
          <span>Width (m)</span>
          <div class="slider-row">
            <input type="range" id="width" min="2" max="10" step="0.1" value="5" />
            <span id="width-val" class="slider-value">5 m</span>
          </div>
        </label>

        <p id="freeform-hint" class="hint" style="display:none;">
          Use the yellow handles in the scene to tweak the freeform shape.
        </p>

        <!-- KIDNEY CONTROLS -->
        <div id="kidney-controls" class="shape-subsection" style="display:none;">
          <h3>Kidney Settings</h3>

          <label>
            <span>Left Radius (m)</span>
            <div class="slider-row">
              <input type="range" id="kidneyLeftRadius" min="0.2" max="10.0" step="0.1" value="2.0" />
              <span id="kidneyLeftRadius-val" class="slider-value">2.0 m</span>
            </div>
          </label>

          <label>
            <span>Right Radius (m)</span>
            <div class="slider-row">
              <input type="range" id="kidneyRightRadius" min="0.2" max="12.0" step="0.1" value="3.0" />
              <span id="kidneyRightRadius-val" class="slider-value">3.0 m</span>
            </div>
          </label>

          <label>
            <span>Neck Offset (m)</span>
            <div class="slider-row">
              <input type="range" id="kidneyOffset" min="0.0" max="8.0" step="0.1" value="1.0" />
              <span id="kidneyOffset-val" class="slider-value">1.0 m</span>
            </div>
          </label>
        </div>

        <!-- L-SHAPE CONTROLS -->
        <div id="lshape-controls" class="shape-subsection" style="display:none;">
          <h3>L-Shape Settings</h3>

          <label>
            <span>Notch Length (√ó length)</span>
            <div class="slider-row">
              <input type="range" id="notchLengthX" min="0.20" max="0.80" step="0.01" value="0.40" />
              <span id="notchLengthX-val" class="slider-value">0.40</span>
            </div>
          </label>

          <label>
            <span>Notch Width (√ó width)</span>
            <div class="slider-row">
              <input type="range" id="notchWidthY" min="0.20" max="0.80" step="0.01" value="0.45" />
              <span id="notchWidthY-val" class="slider-value">0.45</span>
            </div>
          </label>
        </div>
      </div>

      <!-- TILES PANEL -->
      <div class="side-panel" id="panel-tiles">
        <h2>Tiles</h2>

        <div id="tile-grid">
          <button class="tile-btn active" data-tile="blue"
            style="background-image:url('textures/pbr_tiles/blue/preview.jpg')"></button>
          <button class="tile-btn" data-tile="black"
            style="background-image:url('textures/pbr_tiles/black/preview.jpg')"></button>
          <button class="tile-btn" data-tile="white"
            style="background-image:url('textures/pbr_tiles/white/preview.jpg')"></button>
        </div>
      </div>

      <!-- SPA PANEL -->
      <div class="side-panel" id="panel-spa">
        <h2>Spas</h2>

        <button id="addRemoveSpa" class="btn primary">Add Square Spa</button>

        <label>
          <span>Width (m)</span>
          <div class="slider-row">
            <input type="range" id="spaWidth" min="1" max="5" step="0.1" value="2.0" disabled />
            <span id="spaWidth-val" class="slider-value">2.0 m</span>
          </div>
        </label>

        <label>
          <span>Length (m)</span>
          <div class="slider-row">
            <input type="range" id="spaLength" min="1" max="5" step="0.1" value="2.0" disabled />
            <span id="spaLength-val" class="slider-value">2.0 m</span>
          </div>
        </label>

        <label>
          <span>Top Offset (m)</span>
          <div class="slider-row">
            <input type="range" id="spaTopHeight" min="0" max="0.5" step="0.01" value="0" disabled />
            <span id="spaTopHeight-val" class="slider-value">0.00 m</span>
          </div>
        </label>
      </div>

      <!-- ‚≠ê NEW: FEATURES PANEL (wall tools) -->
      <div class="side-panel" id="panel-features">
        <h2>Features</h2>

        <p class="hint">Click a pool wall to adjust its height.</p>

        <label id="wallRaiseRow" style="display:none;">
          <span>Raise Wall Height (m)</span>
          <div class="slider-row">
            <!-- extra height ABOVE base wall height -->
            <input
              type="range"
              id="wallRaise"
              min="0"
              max="1.2"
              step="0.05"
              value="0"
              disabled
            />
            <span id="wallRaise-val" class="slider-value">0.00 m</span>
          </div>
        </label>
      </div>

      <!-- ENTRY STEPS PANEL -->
      <div class="side-panel" id="panel-steps">
        <h2>Entry Steps</h2>

        <label>
          <span>Step Count</span>
          <div class="slider-row">
            <input type="range" id="stepCount" min="0" max="5" step="1" value="3" />
            <span id="stepCount-val" class="slider-value">3</span>
          </div>
        </label>

        <label>
          <span>Step Depth (m)</span>
          <div class="slider-row">
            <input type="range" id="stepDepth" min="0.1" max="0.5" step="0.05" value="0.2" />
            <span id="stepDepth-val" class="slider-value">0.2 m</span>
          </div>
        </label>

        <!-- Step Extension Slider -->
        <label id="stepExtensionRow" style="display:none;">
          <span>Step Extension (m)</span>
          <div class="slider-row">
            <input type="range" id="stepExtension" min="0.3" max="1.5" step="0.05" value="0.3" />
            <span id="stepExtension-val" class="slider-value">1.0 m</span>
          </div>
        </label>

      </div>

    </aside>

    <!-- 3D Scene -->
    <section class="canvas-wrap">
      <div id="three-root"></div>
    </section>

  </main>

  <script type="module" src="js/main.js"></script>

</body>
</html>
